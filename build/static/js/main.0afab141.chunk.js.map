{"version":3,"sources":["services/person.js","components/Notification.js","components/Filter.js","components/PersonForm.js","components/Persons.js","App.js","index.js"],"names":["getAll","axios","get","then","response","data","create","newObject","post","remove","id","delete","Notification","message","error","className","Filter","props","value","filterName","onChange","handleFilterNameChange","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Person","person","removePerson","name","number","onClick","window","confirm","Persons","persons","map","key","App","useState","setPersons","setFilterName","setNewName","setNewNumber","setMessage","useEffect","personService","initialPersons","updatePerson","changedPerson","update","returnedPerson","setTimeout","catch","console","log","filteredPersons","filter","toLowerCase","includes","event","target","preventDefault","some","find","personObject","createdPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0afab141.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n// const update = (id, newObject) => {\r\n//   const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n//   return request.then(response => response.data)\r\n// }\r\n\r\nexport default { getAll, create, remove }","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    if (message.error) {\r\n        return (\r\n            <div className=\"error\">\r\n              {message.message}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"notification\">\r\n          {message.message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React from 'react';\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n        <div>\r\n            filter shown with: <input\r\n                value={props.filterName}\r\n                onChange={props.handleFilterNameChange}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.addPerson}>\r\n            <div>\r\n            name: <input\r\n                value={props.newName}\r\n                onChange={props.handleNameChange}\r\n            />\r\n            </div>\r\n            <div>\r\n            number: <input\r\n                value={props.newNumber}\r\n                onChange={props.handleNumberChange}\r\n            />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default PersonForm;","import React from 'react';\r\n\r\nconst Person = ({ person, removePerson }) => {\r\n    return (\r\n        <div>\r\n            {person.name} {person.number} \r\n            <button onClick={\r\n                () => {\r\n                    if (window.confirm(`Delete ${person.name}?`))removePerson(person.id)}}>delete</button>\r\n        </div>\r\n    )\r\n}\r\nconst Persons = ({persons, removePerson}) => {\r\n    return (\r\n        <div>\r\n            {persons.map(person => {\r\n                return (\r\n                    <Person \r\n                        removePerson={removePerson}\r\n                        key={person.id} \r\n                        person={person} />\r\n                )\r\n            })}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Persons;","import React, { useState, useEffect } from 'react'\r\nimport personService from './services/person'\r\nimport Notification from './components/Notification'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [filterName, setFilterName] = useState('')\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n    const [message, setMessage] = useState(null)\r\n\r\n    useEffect(() => {\r\n        personService\r\n            .getAll()\r\n            .then(initialPersons => {\r\n                setPersons(initialPersons)\r\n            })\r\n    }, [])\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n\r\n        if (persons.some(person => person.name === newName)) {\r\n            const person = persons.find(person => person.name === newName)\r\n            const changedPerson = { ...person, number: newNumber }\r\n            if (window.confirm(`${person.name} is already added to the phonebook, replace the old number with a new one?`)) {\r\n                updatePerson(person.id, changedPerson)\r\n            }\r\n        } else {\r\n            const personObject = {\r\n                name: newName,\r\n                number: newNumber\r\n            }\r\n            personService\r\n                .create(personObject)\r\n                .then(createdPerson => {\r\n                    setPersons(persons.concat(createdPerson))\r\n                    setNewName('')\r\n                    setNewNumber('')\r\n                    setMessage({message: `Added ${createdPerson.name}`, error: false})\r\n                    setTimeout(() => {\r\n                        setMessage(null)\r\n                    }, 5000)\r\n                })\r\n        }\r\n    }\r\n\r\n    const updatePerson = (id, changedPerson) => {\r\n        personService\r\n            .update(id, changedPerson)\r\n            .then(returnedPerson => {\r\n                setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\r\n                setMessage({message: `Updated ${returnedPerson.name}`, error: false})\r\n                setTimeout(() => {\r\n                    setMessage(null)\r\n                }, 5000)\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n                setMessage({message: `Information of ${changedPerson.name} has already been removed from the server`, error: true})\r\n            })\r\n    }\r\n\r\n    const removePerson = (id) => {\r\n        personService\r\n            .remove(id)\r\n            .then(response => {\r\n                setPersons(persons.filter(person => person.id !== id))\r\n            })\r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const handleFilterNameChange = (event) => {\r\n        setFilterName(event.target.value)\r\n    }\r\n\r\n    const filteredPersons = persons.filter(person => person.name.toLowerCase().includes(filterName.toLowerCase()))\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification message={message} />\r\n            <Filter\r\n                filterName={filterName}\r\n                handleFilterNameChange={handleFilterNameChange}\r\n            />\r\n            <h3>Add a new</h3>\r\n            <PersonForm\r\n                addPerson={addPerson}\r\n                newName={newName}\r\n                handleNameChange={handleNameChange}\r\n                newNumber={newNumber}\r\n                handleNumberChange={handleNumberChange}\r\n            />\r\n            <h3>Numbers</h3>\r\n            <Persons \r\n                persons={filteredPersons}\r\n                removePerson={removePerson} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}